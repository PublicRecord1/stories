function downloadAudio() {
    if (!audioData) {
        alert("No recording available.");
        return;
    }

    const blob = new Blob([audioData], { type: "audio/wav" });
    const url = URL.createObjectURL(blob);

    const a = document.createElement("a");
    a.href = url;
    a.download = "recording.wav";
    document.body.appendChild(a);

    // **Force the download without opening a new tab**
    a.click();

    // Clean up
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
}
